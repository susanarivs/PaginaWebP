<!DOCTYPE html>
<html lang="en">
<head>
     
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Susana Rivera Vergara</title>

    <!-- Fuentes (mismas que en index.html) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Handjet:wght@300&family=Kanit:wght@300&family=Orbitron&display=swap"
        rel="stylesheet">

    <!-- Estilos compartidos (orden importante) -->
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/head.css">       <!-- same order as index.html -->
    <link rel="stylesheet" href="css/bases.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/presentacion.css">
    <link rel="stylesheet" href="css/footer.css">
    <!-- Estilo específico del CV (cargado al final para override) -->
    <link rel="stylesheet" href="css/cv.css?v=1.2">

</head>
<body>
     
    <div class="contenedor" data-aos="zoom-in-up">
        <h1>Susana Rivera Vergara.</h1>
        <!-- switch: elegir idioma del CV -->
        <div class="cv-switch" role="tablist" aria-label="Seleccionar CV">
            <button type="button" class="cv-btn active" data-src="docs/Susana_Rivera_Vergara_Espanish.pdf#view=FitV" aria-pressed="true">CV (Español)</button>
            <button type="button" class="cv-btn" data-src="docs/Susana_Rivera_Vergara_English.pdf#view=FitV" aria-pressed="false">CV (English)</button>
        </div>
    </div>
 
     <div class="embed-wrapper">
         <!-- botón para abrir PDF en nueva pestaña (mejor para ver la toolbar nativa) -->
        <button class="embed-open" id="embedOpen">Abrir CV (nueva pestaña)</button>
        <!-- visor: por defecto apuntamos al PDF en español -->
        <embed id="cv-embed" src="docs/Susana_Rivera_Vergara_Espanish.pdf#view=FitV" type="application/pdf" aria-label="Visor del CV">
     </div>
 
    <script>
      // filepath: cv.html (inline)
      (function(){
        const embed = document.getElementById('cv-embed');
        const buttons = document.querySelectorAll('.cv-btn');
        const openBtn = document.getElementById('embedOpen');

        function setActiveButton(targetBtn){
          buttons.forEach(b => {
            const active = b === targetBtn;
            b.classList.toggle('active', active);
            b.setAttribute('aria-pressed', active ? 'true' : 'false');
          });
        }

        // Cambia el src del embed al hacer click en el selector de idioma
        buttons.forEach(btn => {
          btn.addEventListener('click', (e) => {
            const src = btn.getAttribute('data-src');
            if (!src) return;
            embed.setAttribute('src', src);
            setActiveButton(btn);
          });
        });

        // Abre en nueva pestaña el PDF actualmente cargado en el embed
        window.openPdf = function openPdf(){
          const src = embed.getAttribute('src') || '';
          const url = src.split('#')[0] || src;
          if (!url) return;
          window.open(url, '_blank', 'noopener');
        };

        // conectar botón visible
        openBtn.addEventListener('click', () => window.openPdf());

        // accesibilidad: permitir cambio con teclado (Enter/Space)
        buttons.forEach(btn => {
          btn.addEventListener('keydown', (ev) => {
            if (ev.key === 'Enter' || ev.key === ' ') {
              ev.preventDefault();
              btn.click();
            }
          });
        });
      })();
    </script>
 </body>
 
 </html>
